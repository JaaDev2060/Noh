require('./config/settings')
const { BufferJSON, generateWAMessageFromContent, proto, generateWAMessageContent, generateWAMessage, prepareWAMessageMedia, areJidsSameUser, getContentType } = require("@adiwajshing/baileys");
const fs = require("fs");
const cheerio = require("cheerio");
const chalk = require("chalk");
const crypto = require("crypto");
const { exec, spawn, execSync } = require("child_process");
const axios = require("axios");
const fetch = require("node-fetch");
const Jimp = require("jimp");
const util = require("util");
const { sizeFormatter} = require("human-readable")
const format = sizeFormatter()
const { color, bgcolor, mycolor } = require('./lib/color')
const { imageToWebp, videoToWebp, writeExifImg, writeExifVid } = require('./lib/exif')
const thumb = fs.readFileSync ('./image/thumb.jpg')
const { smsg, formatp, tanggal, formatDate, getTime, isUrl, sleep, clockString, runtime, fetchJson, getBuffer, moment, jsonformat, parseMention, getRandom } = require('./lib/functions')

module.exports = comot = async (comot, m, chatUpdate, store) => {
try {
const body = (m.mtype === 'conversation') ? m.message.conversation : (m.mtype == 'imageMessage') ? m.message.imageMessage.caption : (m.mtype == 'videoMessage') ? m.message.videoMessage.caption : (m.mtype == 'extendedTextMessage') ? m.message.extendedTextMessage.text : (m.mtype == 'buttonsResponseMessage') ? m.message.buttonsResponseMessage.selectedButtonId : (m.mtype == 'listResponseMessage') ? m.message.listResponseMessage.singleSelectReply.selectedRowId : (m.mtype == 'templateButtonReplyMessage') ? m.message.templateButtonReplyMessage.selectedId : (m.mtype === 'messageContextInfo') ? (m.message.buttonsResponseMessage?.selectedButtonId || m.message.listResponseMessage?.singleSelectReply.selectedRowId || m.text) : ''

const { color, bgcolor, pickRandom, randomNomor } = require('./lib/console.js')
const { wallpaper, wikimedia, quotesAnime, komiku, ssweb, sholat, tafsirsurah, fbdl } = require("./lib/search");
const budy = (typeof m.text == 'string' ? m.text : '')
const prefix = prefa ? /^[Â°â€¢Ï€Ã·Ã—Â¶âˆ†Â£Â¢â‚¬Â¥Â®â„¢+âœ“_=|~!?@#$%^&.Â©^]/gi.test(body) ? body.match(/^[Â°â€¢Ï€Ã·Ã—Â¶âˆ†Â£Â¢â‚¬Â¥Â®â„¢+âœ“_=|~!?@#$%^&.Â©^]/gi)[0] : "" : prefa ?? global.prefix
//`
const content = JSON.stringify(m.message)
const { type, quotedMsg, mentioned, now, fromMe } = m
const isCmd = body.startsWith(prefix)
const from = m.key.remoteJid
const command = body.replace(prefix, '').trim().split(/ +/).shift().toLowerCase()
const args = body.trim().split(/ +/).slice(1)
const pushname = m.pushName || "No Name"
const botNumber = await comot.decodeJid(comot.user.id)
const isCreator = [botNumber, ...global.owner].map(v => v.replace(/[^0-9]/g, '') + '@s.whatsapp.net').includes(m.sender)
const itsMe = m.sender == botNumber ? true : false
const antilink = JSON.parse(fs.readFileSync('./database/antilink.json'));

const text = q = args.join(" ")
const isSticker = (type == 'stickerMessage')
const quoted = m.quoted ? m.quoted : m
const mime = (quoted.msg || quoted).mimetype || ''
const isMedia = /image|video|sticker|audio/.test(mime)
const { chats } = m
const isSeler = [botNumber, ...owner].map(v => v.replace(/[^0-9]/g, '') + '@s.whatsapp.net').includes(m.sender)

const isGroup = m.key.remoteJid.endsWith('@g.us')
const sender = m.isGroup ? (m.key.participant ? m.key.participant : m.participant) : m.key.remoteJid
const groupMetadata = m.isGroup ? await comot.groupMetadata(m.chat).catch(e => {}) : ''
const groupName = m.isGroup ? groupMetadata.subject : ''
const participants = m.isGroup ? await groupMetadata.participants : ''
const groupAdmins = m.isGroup ? await participants.filter(v => v.admin !== null).map(v => v.id) : ''
const groupOwner = m.isGroup ? groupMetadata.owner : ''
const groupMembers = m.isGroup ? groupMetadata.participants : ''
const isBotAdmins = m.isGroup ? groupAdmins.includes(botNumber) : false
const isGroupAdmins = m.isGroup ? groupAdmins.includes(m.sender) : false
const isAntiLink = antilink.includes(from) ? true : false
const petik = "```"
global.cr = 'ğ—–ğ—¢ğ— ğ—¢ğ—§ ğ— ğ——'
const reply = (teks) => {
return comot.sendMessage(from, { text: teks}, { quoted: fkontak})} 
const isBotGroupAdmins = groupAdmins.includes(botNumber) || false
const isAdmins = m.isGroup ? groupAdmins.includes(m.sender) : false

const pler = JSON.parse(fs.readFileSync('./js/db/idgrup.json').toString())
const jangan = m.isGroup ? pler.includes(m.chat) : false
const prem = JSON.parse(fs.readFileSync('./database/premium.json').toString())
const isPrem = prem.includes(m.sender)
	
if (!comot.public) {
if (!m.key.fromMe) return
} 
//anti link
if (isGroup && isAntiLink && isBotGroupAdmins){
if (budy.match(`chat.whatsapp.com`)) {
if (!isBotAdmins) return reply(mess.botAdmin)
let gclink = (`https://chat.whatsapp.com/`)
let isLinkThisGc = new RegExp(gclink, 'i')
let isgclink = isLinkThisGc.test(m.text)
if (isAdmins) return reply(mess.admin)
if (isCreator) return reply(mess.owner)
await comot.sendMessage(m.chat, {
delete: {
remoteJid: m.chat,
fromMe: false,
id: m.key.id,
participant: m.sender
}
}).then((res) => reply('âš ï¸ Link Group Detected!\nâœ… The link has been deleted!')).catch((err) => reply(mess.error))
}

}

if (m.message) {
comot.readMessages([m.key])
}

async function loading () {
var hawemod = [
"â–ˆâ–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ 10%",
"â–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ 20%",
"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–“â–“â–“â–“ 30%",
"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–“ 50%",
"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“ 80%",
"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%",
"ğ˜Šğ˜°ğ˜®ğ˜±ğ˜­ğ˜¦ğ˜µğ˜¦ğ˜¥..."
]
let { key } = await comot.sendMessage(from, {text: 'Loading...'})
//Pengalih isu

for (let i = 10; i < hawemod.length; i++) {
/*await delay(10)*/
await comot.sendMessage(from, {text: hawemod[i], edit: key });
//PESAN LEPAS
}
}
        
if (global.autoRecord) {
if (command) {
comot.sendPresenceUpdate('recording', from)
}
}
        
async function replyprem(teks) {
reply(`This feature is for premium user, contact the owner to become premium user`)
}
        
const fkontak = {
key: {
participant: `0@s.whatsapp.net`,
...(m.chat ? {
remoteJid: `status@broadcast`
} : {})
},
message: {
'contactMessage': {
'displayName': `${nameowner}`,
'vcard': `BEGIN:VCARD\nVERSION:3.0\nN:XL;${namebot},;;;\nFN:${namebot}\nitem1.TEL;waid=${owner}:+${owner}\nitem1.X-ABLabel:Ponsel\nEND:VCARD`,
'jpegThumbnail': thumb,
thumbnail: thumb,
sendEphemeral: true
}   
}
}
        
const replyy = (teks) => {
comot.sendMessage(from, { text: teks ,
contextInfo:{
forwardingScore: 9999999, 
isForwarded: true
}
}, { quoted : m })
}

// cmd
if (isCmd && m.isGroup) { console.log(chalk.bold.rgb(255, 178, 102)('\x1b[1;31m~\x1b[1;37m> [\x1b[1;32mcomot MD\x1b[1;37m]'), chalk.bold.rgb(153, 255, 153)(command), chalk.bold.rgb(204, 204, 0)("from"), chalk.bold.rgb(153, 255, 204)(pushname), chalk.bold.rgb(204, 204, 0)("in"), chalk.bold.rgb(255, 178, 102)("Group Chat"), chalk.bold('[' + args.length + ']')); }
if (isCmd && !m.isGroup) { console.log(chalk.bold.rgb(255, 178, 102)('\x1b[1;31m~\x1b[1;37m> [\x1b[1;32mcomot MD\x1b[1;37m]'), chalk.bold.rgb(153, 255, 153)(command), chalk.bold.rgb(204, 204, 0)("from"), chalk.bold.rgb(153, 255, 204)(pushname), chalk.bold.rgb(204, 204, 0)("in"), chalk.bold.rgb(255, 178, 102)("Private Chat"), chalk.bold('[' + args.length + ']')); }
		
try {
ppuser = await comot.profilePictureUrl(m.sender, 'image')
} catch (err) {
ppuser = 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png?q=60'
}
ppnyauser = await getBuffer(ppuser)

const generateProfilePicture = async(buffer) => {
const jimp_1 = await Jimp.read(buffer);
const resz = jimp_1.getWidth() > jimp_1.getHeight() ? jimp_1.resize(550, Jimp.AUTO) : jimp_1.resize(Jimp.AUTO, 650)
const jimp_2 = await Jimp.read(await resz.getBufferAsync(Jimp.MIME_JPEG));
return {
img: await resz.getBufferAsync(Jimp.MIME_JPEG)
}
}

switch (command) {
//=================================================//
case 'owner':
reply('wa.me/6283838077485 not spam')
break
case 'menu': {
await loading()
menu =`ğ—•ğ—¼ğ˜ ğ—¶ğ—»ğ—¶ ğ—®ğ—±ğ—®ğ—¹ğ—®ğ—µ ğ—¯ğ—¼ğ˜ ğ—ºğ˜‚ğ—¹ğ˜ğ—¶ ğ—±ğ—²ğ˜ƒğ—¶ğ—°ğ—² ğ˜†ğ—®ğ—»ğ—´ ğ—¯ğ—²ğ—¿ğ—·ğ—®ğ—¹ğ—®ğ—» ğ—ºğ—²ğ—»ğ—´ğ—´ğ˜‚ğ—»ğ—®ğ—¸ğ—®ğ—» ğ—¹ğ—¶ğ—»ğ˜‚ğ—¸ , ğ—¯ğ—¼ğ˜ ğ—¶ğ—»ğ—¶ ğ—ºğ—®ğ˜€ğ—¶ğ—µ ğ˜ğ—®ğ—µğ—®ğ—½ ğ—½ğ—²ğ—»ğ—´ğ—²ğ—ºğ—¯ğ—®ğ—»ğ—´ ğ˜€ğ—²ğ—µğ—¶ğ—»ğ—´ğ—´ğ—® ğ—ºğ—®ğ˜€ğ—¶ğ—µ ğ—®ğ—±ğ—® ğ˜†ğ—®ğ—»ğ—´ ğ—²ğ—¿ğ—¼ğ—¿ , ğ—±ğ—¶ğ—¹ğ—®ğ—¿ğ—®ğ—»ğ—´ ğ˜€ğ—½ğ—®ğ—º ğ—¯ğ—¼ğ˜

â€”â€”â€”â€”ã€Œ ğ—œğ—»ğ—³ğ—¼ ğ—¯ğ—¼ğ˜ ã€â€”â€”â€”â€”

ğ—¡ğ—®ğ—ºğ—® ğ—¯ğ—¼ğ˜ : ğ—–ğ—¼ğ—ºğ—¼ğ˜ ğ— ğ——
ğ—¡ğ—®ğ—ºğ—® ğ—¼ğ˜„ğ—»ğ—²ğ—¿ : ğ—ğ—®ğ—® ğ—¢ğ—™ğ—–
ğ—©ğ—²ğ—¿ğ˜€ğ—¶ ğ—¯ğ—¼ğ˜ : ğ™‘ğŸ­
ğ—•ğ—®ğ—¶ğ—¹ğ—²ğ˜†ğ˜€ ğ—¯ğ—¼ğ˜ : ğ˜¼ğ™™ğ™ğ™¬ğ™–ğ™Ÿğ™¨ğ™ğ™ğ™£ğ™œ
ğ—¥ğ˜‚ğ—»ğ˜ğ—¶ğ—ºğ—² : ${runtime(process.uptime())}

ğŸ… = ğ—¢ğ˜„ğ—»ğ—²ğ—¿ ğ—¼ğ—»ğ—¹ğ˜†
ğŸ…– = ğ—šğ—¿ğ—¼ğ˜‚ğ—½ ğ—¼ğ—»ğ—¹ğ˜†
ğŸ…• = ğ—™ğ—¿ğ—²ğ—²
ğŸ…Ÿ = ğ—£ğ—¿ğ—²ğ—ºğ—¶ğ˜‚ğ—º ğ—¼ğ—»ğ—¹ğ˜†

â•­â”€ã€Œ ğ——ğ—¼ğ˜„ğ—»ğ—¹ğ—¼ğ—®ğ—± ğ—ºğ—²ğ—»ğ˜‚ ã€
â”‚â€â¤ Â» ${prefix}tiktok ğŸ…•
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼
â•­â”€ã€Œ ğ—šğ—¿ğ—¼ğ˜‚ğ—½ ğ—ºğ—²ğ—»ğ˜‚ ã€
â”‚â€â¤ Â» ${prefix}antilink ğŸ…–
â”‚â€â¤ Â» ${prefix}group ğŸ…–
â”‚â€â¤ Â» ${prefix}kick ğŸ…–
â”‚â€â¤ Â» ${prefix}hidetag ğŸ…–
â”‚â€â¤ Â» ${prefix}opentime ğŸ…–
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼
â•­â”€ã€Œ ğ—–ğ—¼ğ—»ğ˜ƒğ—²ğ—¿ğ˜ ğ—ºğ—²ğ—»ğ˜‚ ã€
â”‚â€â¤ Â» ${prefix}qc ğŸ…•
â”‚â€â¤ Â» ${prefix}sticker ğŸ…Ÿ
â”‚â€â¤ Â» ${prefix}attp ğŸ…•
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼
â•­â”€ã€Œ ğ—›ğ—²ğ—»ğ˜ğ—®ğ—¶ ğ—ºğ—²ğ—»ğ˜‚ ã€
â”‚â€â¤ Â» ${prefix}animespank ğŸ…Ÿ
â”‚â€â¤ Â» ${prefix}gimage ğŸ…Ÿ
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼
â•­â”€ã€Œ ğ—¢ğ˜„ğ—»ğ—²ğ—¿ ğ—ºğ—²ğ—»ğ˜‚ ã€
â”‚â€â¤ Â» ${prefix}addprem ğŸ…
â”‚â€â¤ Â» ${prefix}delprem ğŸ…
â”‚â€â¤ Â» ${prefix}self ğŸ…
â”‚â€â¤ Â» ${prefix}public ğŸ…
â”‚â€â¤ Â» ${prefix}listpremium ğŸ…
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼`
comot.sendMessage(m.chat, {
text: menu,
contextInfo: {  forwardingScore: 99999999,
isForwarded: true,
externalAdReply: {
title: cr,
thumbnailUrl: foto,
sourceUrl: link,
mediaType: 1,
renderLargerThumbnail: true
}}}, { quoted: fkontak})
}
break
case 'attp': {            
if (!text) return reply(`ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${command} ğ—›ğ—®ğ—¹ğ—¹ğ—¼`)
reply(mess.wait)
await comot.sendMessage(m.chat, {sticker: {url:`https://api.lolhuman.xyz/api/attp?apikey=BotzZeck&text=${text}` }}, { quoted: m })
}
break
case 'reportbug':{
let ripotbug = args[0]
if (!text) return reply('Teksnya?')
reply('Oke Kak Reportmu Sudah Terkirim Ke Owner')
comot.sendMessage('6283838077485@s.whatsapp.net', { text: `===[ ğ—¥ğ—˜ğ—£ğ—¢ğ—¥ğ—§ ]===\nğ—£ğ—²ğ˜€ğ—®ğ—» : ${q} , ğ—±ğ—®ğ—¿ğ—¶ : @${sender.split('@')[0]}\nğ—¸ğ—²ğ˜ğ—¶ğ—¸ ${prefix}accreport ğ˜‚ğ—»ğ˜ğ˜‚ğ—¸ ğ—¸ğ—¼ğ—»ğ—³ğ—¶ğ—¿ğ—ºğ—®ğ˜€ğ—¶ , ğ—¸ğ—²ğ˜ğ—¶ğ—¸ ${prefix}acc ğ—ºğ—²ğ—»ğ—¼ğ—¹ğ—®ğ—¸ ğ—¶ğ—»ğ—³ğ—¼ğ—¿ğ—ºğ—®ğ˜€ğ—¶`, mentions: [sender]}, { quoted: fkontak })
}
break     
case 'accreport': {
let messageText = `ğ—Ÿğ—®ğ—½ğ—¼ğ—¿ğ—®ğ—» ğ˜ğ—²ğ—¹ğ—®ğ—µ ğ—±ğ—¶ ğ˜ğ—²ğ—¿ğ—¶ğ—ºğ—® , ğ—½ğ—²ğ—¿ğ—ºğ—¶ğ—»ğ˜ğ—®ğ—®ğ—» ğ—®ğ—»ğ—±ğ—® ğ˜€ğ—²ğ—±ğ—®ğ—»ğ—´ ğ—±ğ—¶ ğ—½ğ—¿ğ—¼ğ˜€ğ—²ğ˜€`
let targetNumber = `${q.split(",")[0]}@s.whatsapp.net`;
comot.sendMessage(targetNumber, {
text: `*${messageText}*`,
mentions: [sender]
}, {
quoted: fkontak
}).then(() => {
reply('ğ— ğ—²ğ—ºğ—¯ğ—®ğ—¹ğ—®ğ˜€ ğ—¯ğ—²ğ—¿ğ—µğ—®ğ˜€ğ—¶ğ—¹');
}).catch(() => {
reply('ğ—˜ğ—¿ğ—¼ğ—¿ ğ—ºğ—²ğ—»ğ—´ğ—¶ğ—¿ğ—¶ğ—º ğ—½ğ—²ğ˜€ğ—®ğ—»');
});
}
break
case 'acc': {
let messageText = `ğ—Ÿğ—®ğ—½ğ—¼ğ—¿ğ—®ğ—» ğ—±ğ—¶ğ˜ğ—¼ğ—¹ğ—®ğ—¸ , ğ—³ğ—¶ğ˜ğ˜‚ğ—¿ ğ˜ğ—²ğ—¿ğ˜€ğ—²ğ—¯ğ˜‚ğ˜ ğ˜ğ—¶ğ—±ğ—®ğ—¸ ğ—²ğ—¿ğ—¼ğ—¿/ğ˜ğ—¶ğ—±ğ—®ğ—¸ ğ—±ğ—¶ğ˜ğ—²ğ—ºğ˜‚ğ—¸ğ—®ğ—»`
let targetNumber = `${q.split(",")[0]}@s.whatsapp.net`;
comot.sendMessage(targetNumber, {
text: `*${messageText}*`,
mentions: [sender]
}, {
quoted: fkontak
}).then(() => {
reply('ğ— ğ—²ğ—»ğ—¼ğ—¹ğ—®ğ—¸ ğ—¯ğ—²ğ—¿ğ—µğ—®ğ˜€ğ—¶ğ—¹');
}).catch(() => {
reply('ğ—˜ğ—¿ğ—¼ğ—¿ ğ—ºğ—²ğ—»ğ—´ğ—¶ğ—¿ğ—¶ğ—º ğ—½ğ—²ğ˜€ğ—®ğ—»');
});
}
break
case 'opentime': {
if (!m.isGroup) return reply(mess.group)
if (!isAdmins) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)
if (args[1] == 'second') {
var timer = args[0] * `1000`
} else if (args[1] == 'minute') {
var timer = args[0] * `60000`
} else if (args[1] == 'hour') {
var timer = args[0] * `3600000`
} else if (args[1] == 'day') {
var timer = args[0] * `86400000`
} else {
return reply('ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : opentime ğŸ­ğŸ¬ ğ˜€ğ—²ğ—°ğ—¼ğ—»ğ—±/ğ—ºğ—¶ğ—»ğ˜‚ğ˜ğ—²/ğ—µğ—¼ğ˜‚ğ—¿')
}
reply(`ğ—šğ—¿ğ—¼ğ˜‚ğ—½ ğ—®ğ—¸ğ—®ğ—» ğ—±ğ—¶ ğ—¯ğ˜‚ğ—¸ğ—® ğ—±ğ—®ğ—¹ğ—®ğ—º ğ—¯ğ—²ğ—¯ğ—²ğ—¿ğ—®ğ—½ğ—® ğ˜€ğ—®ğ—®ğ˜ ${q} `)
setTimeout(() => {
var nomor = m.participant
const open = `ğ—•ğ—²ğ—¿ğ—µğ—®ğ˜€ğ—¶ğ—¹ ğ—ºğ—²ğ—ºğ—¯ğ˜‚ğ—¸ğ—® ğ—´ğ—¿ğ—¼ğ˜‚ğ—½ ğ—±ğ—®ğ—¹ğ—®ğ—º ğ˜„ğ—®ğ—¸ğ˜ğ˜‚ ${q}`
comot.groupSettingUpdate(from, 'not_announcement')
reply(open)
}, timer)
}
break
case 'animespank':
if (!isPrem) return reply(mess.prem)
reply(mess.wait)
waifudd = await axios.get(`https://nekos.life/api/v2/img/spank`)     
await comot.sendMessage(m.chat, { caption:  `ğ—§ğ—®ğ—»ğ—´ğ—´ğ˜‚ğ—»ğ—´ ğ——ğ—¼ğ˜€ğ—® ğ—ğ—®ğ—¸`, image: {url:waifudd.data.url} },{ quoted:m }).catch(err => {
return(mess.error)
})
break
case 'gimage': {
if (!isPrem) return reply(mess.prem)
if (!text) return reply(`ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${prefix + command} ğ—»ğ—®ğ—¿ğ˜‚ğ˜ğ—¼`)
reply(mess.wait)
comotezyanu = await fetchJson(`https://api.akuari.my.id/search/googleimage?query=${text}`)
n = comotezyanu.result
images = n[Math.floor(Math.random() * n.length)]
comot.sendMessage(m.chat, { image: { url: images}, caption: `*-------ã€Œ GIMAGE SEARCH ã€-------*\nğŸ¤  *Query* : ${text}\nğŸ”— *Media Url* : ${images}`}, { quoted: m })
}
break
case 'listpremium':
teks = '*Premium List*\n\n'
for (let comot of prem) {
teks += `- ${comot}\n`
}
teks += `\n*Total : ${prem.length}*`
comot.sendMessage(m.chat, { text: teks.trim() }, 'extendedTextMessage', { quoted: m, contextInfo: { "mentionedJid": prem } })
break
case 'addprem':
if (!isCreator) return reply (mess.owner)
if (!args[0]) return reply(`ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² :${prefix + command} ğŸ²ğŸ®ğŸ´ğŸ¯ğŸ´ğŸ¯ğŸ´ğŸ¬ğŸ³ğŸ³ğŸ°ğŸ´ğŸ±`)
prrkek = q.split("|")[0].replace(/[^0-9]/g, '')+`@s.whatsapp.net`
let ceknya = await comot.onWhatsApp(prrkek)
if (ceknya.length == 0) return reply(`ğ—¡ğ—¼ğ—ºğ—¼ğ—¿ ğ—§ğ—¶ğ—±ğ—®ğ—¸ ğ—©ğ—®ğ—¹ğ—¶ğ—±`)
prem.push(prrkek)
fs.writeFileSync('./database/premium.json', JSON.stringify(prem))
reply(`ğ—•ğ—²ğ—¿ğ—µğ—®ğ˜€ğ—¶ğ—¹ ğ— ğ—²ğ—»ğ—®ğ—ºğ—¯ğ—®ğ—µğ—¸ğ—®ğ—» ğ—£ğ—¿ğ—²ğ—ºğ—¶ğ˜‚ğ—º`)
break
case 'delprem':
if (!isCreator) return reply (mess.owner)
if (!args[0]) return reply(`ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${command} ğŸ²ğŸ®ğŸ´ğŸ¯ğŸ´ğŸ¯ğŸ´ğŸ¬ğŸ³ğŸ³ğŸ°ğŸ´ğŸ±`)
ya = q.split("|")[0].replace(/[^0-9]/g, '')+`@s.whatsapp.net`
unp = prem.indexOf(ya)
prem.splice(unp, 1)
fs.writeFileSync('./database/premium.json', JSON.stringify(prem))
reply(`ğ—•ğ—²ğ—¿ğ—µğ—®ğ˜€ğ—¶ğ—¹ ğ— ğ—²ğ—»ğ—´ğ—µğ—®ğ—½ğ˜‚ğ˜€ ğ—£ğ—¿ğ—²ğ—ºğ—¶ğ˜‚ğ—º`)
break
case 'sticker': {
if (!isPrem) return reply(mess.prem)
if (!quoted) return reply(`â ${prefix + command} ğ—¥ğ—²ğ—½ğ—¹ğ˜† ğ—³ğ—¼ğ˜ğ—¼ ğ˜ğ—²ğ—¿ğ˜€ğ—²ğ—¯ğ˜‚ğ˜`)
if (/image/.test(mime)) {
let media = await quoted.download()
reply(mess.wait)
let encmedia = await comot.sendImageAsSticker(m.chat, media, m, { packname: global.packname, author: global.author })
await fs.unlinkSync(encmedia)
} else if (/video/.test(mime)) {
if ((quoted.msg || quoted).seconds > 11) return reply(`â ğ— ğ—®ğ˜…ğ—¶ğ—ºğ˜‚ğ—º ğŸ­ğŸ¬ ğ˜€ğ—²ğ—°ğ—¼ğ—»ğ—±`)
let media = await quoted.download()
let encmedia = await comot.sendVideoAsSticker(m.chat, media, m, { packname: global.packname, author: global.author })
await fs.unlinkSync(encmedia)
} else {
reply(`â ğ—¥ğ—²ğ—½ğ—¹ğ˜† ğ—³ğ—¼ğ˜ğ—¼ ğ˜ğ—²ğ—¿ğ˜€ğ—²ğ—¯ğ˜‚ğ˜ ğ—±ğ—®ğ—» ğ—¸ğ—²ğ˜ğ—¶ğ—¸ ${command}`)
}
}
break
case "tiktok": {
if (!q) return reply(`ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${prefix + command} https://vm.tiktok.com/ZSLdF9NYN`)
await reply(mess.wait)
let tik = await fetchJson(`https://api.tiklydown.me/api/download?url=${q}`)
let vidtik = await comot.sendMessage(from, { video: { url: tik.video.noWatermark }, caption: `ğ——ğ—¼ğ—»ğ—² ğ—ğ—®ğ—¸` }, { quoted: m })
}
break
case 'hidetag': {
if (!isCreator) return reply(mess.owner)
if (!m.isGroup) return reply(mess.group)
if (!text) return reply(`${petik}Text?${petik}`)
comot.sendMessage(from, { text : q ? q : '' , mentions: participants.map(a => a.id)}, { quoted:m })
}
break
case 'group': {
if (!isGroup) return reply(mess.group)
if (!isAdmins) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botAdmin)
if (!q) return reply(`â ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${prefix + command} ğ—°ğ—¹ğ—¼ğ˜€ğ—²`)
if (args[0] == 'close') {
comot.groupSettingUpdate(from, 'announcement')
reply(mess.succes)
} else if (args[0] == 'open') {
comot.groupSettingUpdate(from, 'not_announcement')
reply(mess.succes)
} else {
reply(`â ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${command} ğ—¼ğ—½ğ—²ğ—»`)
}}
break
case 'antilink':
if (!isGroup) return reply(mess.group)
if (!isGroupAdmins) return reply(mess.admin)
if (!isBotGroupAdmins) return reply(mess.botAdmin)
if (!args[0]) return reply(`â ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${prefix + command} ğ—¼ğ—»`)
if (args[0] == 'ON' || args[0] == 'on' || args[0] == 'On') {
if (isAntiLink) return reply('âœ… ğ—”ğ—»ğ˜ğ—¶ğ—¹ğ—¶ğ—»ğ—¸ ğ—¯ğ—²ğ—¿ğ—µğ—®ğ˜€ğ—¶ğ—¹ ğ—®ğ—¸ğ˜ğ—¶ğ—³')
antilink.push(from)
fs.writeFileSync('./database/antilink.json', JSON.stringify(antilink, null, 2))
reply(mess.succes)
} else if (args[0] == 'OFF' || args[0] == 'OF' || args[0] == 'Of' || args[0] == 'Off' || args[0] == 'of' || args[0] == 'off') {
if (!isAntiLink) return reply('âœ… ğ—”ğ—»ğ˜ğ—¶ğ—¹ğ—¶ğ—»ğ—¸ ğ—¯ğ—²ğ—¿ğ—µğ—®ğ˜€ğ—¶ğ—¹ ğ—±ğ—¶ ğ—»ğ—¼ğ—»ğ—®ğ˜ğ—¶ğ—³ğ—¸ğ—®ğ—»')
let anu = antilink.indexOf(from)
antilink.splice(anu, 1)
fs.writeFileSync('./database/antilink.json', JSON.stringify(antilink, null, 2))
reply(mess.succes)
} else { reply(`â ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${command} ğ—¼ğ—»/ğ—¼ğ—³ğ—³`) }
           
function generateRandomPassword() {
  // Generate a 10-character random password
  return Array(10).fill(null).map(() => (Math.random() * 16 | 0).toString(16)).join('');
}
break
case 'kick': {
if (!isCreator) return reply(mess.owner)
if (!m.isGroup) return reply(mess.group)
if (!isBotAdmins) return reply(mess.botAdmin)
if (!isAdmins) return reply(mess.admin)
let users = m.mentionedJid[0] ? m.mentionedJid[0] : m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, '')+'@s.whatsapp.net'
await comot.groupParticipantsUpdate(from, [users], 'remove').then((res) => reply(jsonformat(res))).catch((err) => reply(jsonformat(err)))
reply(`ğ——ğ—¼ğ—»ğ—²`)
}
break
case "qc": {
if (!quoted){
const getname = await comot.getName(mentionUser[0])
const json = {
"type": "quote",
"format": "png",
"backgroundColor": "#FFFFFF",
"width": 512,
"height": 768,
"scale": 2,
"messages": [
{
"entities": [],
"avatar": true,
"from": {
"id": 1,
"name": getname,
"photo": {
"url": ppuser
}
},
"text": quotedMsg.chats,
"replyMessage": {}
}
]
};
const response = axios.post('https://bot.lyo.su/quote/generate', json, {
headers: {'Content-Type': 'application/json'}
}).then(res => {
const buffer = Buffer.from(res.data.result.image, 'base64')
const opt = { packname: global.packname, author: global.author }
comot.sendImageAsSticker(from, buffer, m, opt)
});
} else if (q) {
const json = {
"type": "quote",
"format": "png",
"backgroundColor": "#FFFFFF",
"width": 512,
"height": 768,
"scale": 2,
"messages": [
{
"entities": [],
"avatar": true,
"from": {
"id": 1,
"name": pushname,
"photo": {
"url": ppuser
}
},
"text": q,
"replyMessage": {}
}
]
};
const response = axios.post('https://bot.lyo.su/quote/generate', json, {
headers: {'Content-Type': 'application/json'}
}).then(res => {
const buffer = Buffer.from(res.data.result.image, 'base64')
const opt = { packname: global.packname, author: global.author }
comot.sendImageAsSticker(from, buffer, m, opt)
});
} else {
reply(`â ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—² : ${command} ğ—µğ—®ğ—¶`)
}
}
break

default:
}
if (budy.startsWith('>')) {
if (!isCreator) return reply(mess.owner)
try {
let evaled = await eval(budy.slice(2))
if (typeof evaled !== 'string') evaled = require('util').inspect(evaled)
await reply(evaled)
} catch (err) {
reply(String(err))
}
}
} catch (err) {
m.reply(util.format(err))
}
}

let file = require.resolve(__filename)
fs.watchFile(file, () => {
fs.unwatchFile(file)
console.log(chalk.yellowBright(`Update File Terbaru ${__filename}`))
delete require.cache[file]
require(file)
})